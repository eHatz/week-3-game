<!DOCTYPE html>
<html>
<head>
	<title>Efthemios Hatzis Hangman Game</title>
</head>
<body> 

	<script type="text/javascript">

		var names = {
			options: ['Starks', 'Martell', 'Greyjoy', 'Lannister', 'Karstark', 'Bolton'],
			start: function(){
				document.write('Press any key to get started!');
			},
			//makes an array of 2 items the first is a randomly picked word from the options array, the second is a string of "_" with the same length as the first 
			blockAnswer: function() {	
				var word = this.options[Math.floor(Math.random()*this.options.length)];
				var blockWord = word;
				for (var i = 0; i < word.length; i++) {
					blockWord = blockWord.replace(blockWord[i], i);
				}
				var wordArray = [word, blockWord];
				return wordArray;
			}
		}

		var wordArray = names.blockAnswer();
		//the randomly picked word
		var word = wordArray[0];
		//the "_" version of the word
		var wordBlocked = wordArray[1];
		//will be used to create a string of positions for the letter selected
		var iKeyPress = '';	

		document.write(word);

		document.onkeyup = function(event) {
			// Determines which exact key was selected. Make it lowercase
			var userGuess = String.fromCharCode(event.keyCode).toLowerCase();

			
					//searches the word for the letter pressed and puts the index of the letter in the string iKeyPress
					for (var index = word.toLowerCase().indexOf(userGuess); index >= 0;){
						iKeyPress = iKeyPress + index;
						index = word.indexOf(userGuess, index + 1);

						//takes the indexes stored in iKeyPress and switches the letters at that index in wordBlocked to the letters in word
						for (var i = 0; i < iKeyPress.length; i++) {
							var realI = iKeyPress[i]
							console.log(realI);
							wordBlocked = wordBlocked.replace(wordBlocked[realI], word[realI]);
						}

					

					}
					//resets the value of iKeyPress
					iKeyPress = '';
					console.log(wordBlocked);


		}
	// if (word.toLowerCase().indexOf(userGuess) > -1 && previousGuess.toLowerCase().indexOf(userGuess) === -1){

		
	</script>

</body>
</html>